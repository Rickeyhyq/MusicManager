<!DOCTYPE html>
<html>

<head>
  <title>欢迎登录</title>
  <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css">
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript" src="/js/md5.js"></script>
</head>

<body>
  <div class="container" style="margin-top:180px; ">

    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-primary">
        <div class="panel-heading">用户注册</div>
        <div class="panel-body">
          <form id="formId" class="form-horizontal">
            <div class="form-group">
              <label for="uname" class="col-sm-2 control-label">用户名</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" name="uname" id="uname" placeholder="请输入用户名">
              </div>
            </div>
            <div class="form-group">
              <label for="pwd" class="col-sm-2 control-label">密码</label>
              <div class="col-sm-10">
                <input type="password" class="form-control" name="pwd" id="pwd" placeholder="请输入密码">
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <input value="注册" onclick="register();" class="btn btn-danger">
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    function register() {
      var uname = $("#uname").val();
      var pwd = $("#pwd").val();

      // 对密码进行MD5加密
      pwd = $.md5(pwd)
      
      console.log('uname:' + uname + " pwd=" + pwd)

      $.post({
        url: '/account/register',
        data: 'uname=' + uname + '&pwd=' + pwd,
        success: function (result) {
          alert(result.message)
          window.location.href='/account/login'
        },
        error: function () {
          
        }
      });
    }
  </script>
</body>

</html>